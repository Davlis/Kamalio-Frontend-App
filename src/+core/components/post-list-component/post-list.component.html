<ion-card *ngFor="let p of posts" class="post-card" [navPush]="postPage" [navParams]="p">
  <ion-row class="horizontal-view">
    <ion-col col-4>

      <img *ngIf="p.thumbPhotoUrl" [src]="p.thumbPhotoUrl">

    </ion-col>
    <ion-col>
      <ion-item>
        <h2 class="title">{{p.title}}</h2>
        <ion-note>
          {{p.date | amTimeAgo}}
        </ion-note>
      </ion-item>

      <ion-card-content>
        <p>{{getShortenedDescription(p.description)}}</p>
      </ion-card-content>

      <ion-row class="bottom-row">
        <ion-col>
          <button ion-button icon-left clear small [class.active]="p.active" (click)="$event.stopPropagation(); postService.changeUpvote(p.id)">
            <ion-icon name="thumbs-up"></ion-icon>
            <div>{{p.upvotes}}</div>
          </button>
        </ion-col>
        <ion-col>
          <button ion-button icon-left clear small class="disable-hover comments-button" (click)="$event.stopPropagation()">
            <ion-icon name="text"></ion-icon>
            <div>{{p.comments}}</div>
          </button>
        </ion-col>
        <ion-col center text-center>
        </ion-col>
      </ion-row>
    </ion-col>
  </ion-row>

  <ion-col class="vertical-view">
    <ion-item>
      <h2 class="title">{{p.title}}</h2>
      <ion-note>
        {{p.date | amTimeAgo}}
      </ion-note>
    </ion-item>

    <img *ngIf="p.thumbPhotoUrl" [src]="p.thumbPhotoUrl">

    <ion-card-content>
      <p>{{getShortenedDescription(p.description)}}</p>
    </ion-card-content>

    <ion-row class="bottom-row">
      <ion-col>
        <button ion-button icon-left clear small [class.active]="p.active" (click)="$event.stopPropagation(); postService.changeUpvote(p.id)">
          <ion-icon name="thumbs-up"></ion-icon>
          <div>{{p.upvotes}}</div>
        </button>
      </ion-col>
      <ion-col>
        <button ion-button icon-left clear small  class="disable-hover comments-button" (click)="$event.stopPropagation()">
          <ion-icon name="text"></ion-icon>
          <div>{{p.comments}}</div>
        </button>
      </ion-col>
      <ion-col center text-center>
      </ion-col>
    </ion-row>
  </ion-col>
</ion-card>
